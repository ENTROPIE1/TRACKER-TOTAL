# Функции в `bot.py`

Этот документ описывает назначение и аргументы функций из `bot.py`. Файл служит для отслеживания публичного API модуля бота. По мере добавления новых функций обновляйте этот документ.

## `init_db(db_path)`
Инициализирует базу данных SQLite по пути `db_path`. Создаёт необходимые таблицы, если их ещё нет.

## `save_msg(db_conn, user_id, message)`
Сохраняет входящее сообщение в базу данных, используя существующее соединение `db_conn`. Параметр `user_id` идентифицирует автора, а `message` содержит текст.

## `update_last(db_conn, user_id, message_id)`
Обновляет идентификатор последнего обработанного сообщения пользователя в базе данных. `db_conn` — открытое соединение с базой данных, `user_id` — идентификатор пользователя, `message_id` — ID последнего сообщения.

## `fetch_history(db_conn, user_id, limit=50)`
Получает список последних сообщений пользователя `user_id` из базы данных. Параметр `limit` определяет количество возвращаемых сообщений.

## `handle_start(update, context)`
Обработчик команды Telegram `/start`. Отправляет пользователю приветственное сообщение. `update` и `context` — стандартные аргументы, передаваемые фреймворком Telegram.

## `handle_text(update, context)`
Обрабатывает входящие текстовые сообщения от пользователей. Сохраняет текст в базе данных и может сформировать ответ. Принимает аргументы `update` и `context` от фреймворка Telegram.

---

При добавлении новых функций в `bot.py` включайте краткое описание их поведения и аргументов в этот файл, чтобы поддерживать документацию в актуальном состоянии.
